import { QBPerformance, parseWeeklyCSV } from '../utils/csvParser';
import { week4CSV, week5CSV, week6CSV, week7CSV } from './additionalWeeks';

// Week 1 CSV data (from your file)
const week1CSV = `ScorelineID,TeamID,DefOp,WeekID,SeasonID,PComp,PAtt,PYds,PTds,Ints,Sack,SYds,Qbr,RYds,RTds,Long,Fumb,FumL,DefTD,Saf,Gefu,Gwd,Bnch,PComPct,NetPYds,TTds,ZPComp,ZPYds,ZTTds,ZTTos,ZInts,ZFumb,ZRYds,ZDefTD,ZSaf,ZGefu,ZGwd,ZBnch,ZOver25,ZFinal,POS,NEG
202501CAR,CAR,JAX,1,2025,18,35,154,1,2,1,-12,20,40,0,27,1,1,0,0,0,0,0,51.43,142,1,0,12,0,12,10,4,0,0,0,0,0,0,0,38,38,0
202501JAX,JAX,CAR,1,2025,19,31,178,1,1,0,0,68.8,12,0,24,0,0,0,0,0,0,0,61.29,178,1,0,6,0,0,5,0,0,0,0,0,0,0,10,21,21,0
202501CIN,CIN,CLE,1,2025,14,23,113,1,0,3,-18,51.4,3,0,20,0,0,0,0,0,0,0,60.87,95,1,0,25,0,0,0,0,0,0,0,0,0,0,10,35,35,0
202501CLE,CLE,CIN,1,2025,31,45,290,1,2,2,-12,32.7,6,0,25,0,0,0,0,0,0,0,68.89,278,1,0,0,0,0,10,0,0,0,0,0,0,0,0,10,10,0
202501MIA,MIA,IND,1,2025,19,31,146,1,2,3,-13,6.16,10,0,21,1,1,0,0,0,0,1,61.29,133,1,0,12,0,12,10,4,0,0,0,0,0,35,10,83,83,0
202501IND,IND,MIA,1,2025,22,29,272,1,0,1,-10,87.5,26,2,36,0,0,0,0,0,0,0,75.86,262,3,0,0,-5,0,0,0,0,0,0,0,0,0,0,-5,0,-5
202501LV,LV,NE,1,2025,24,34,362,1,1,4,-29,62.8,10,0,38,0,0,0,0,0,0,0,70.59,333,1,0,-6,0,0,5,0,0,0,0,0,0,0,0,-1,5,-6
202501NE,NE,LV,1,2025,30,46,287,1,1,4,-11,39.2,11,0,27,1,0,0,0,0,0,0,65.22,276,1,0,0,0,0,5,4,0,0,0,0,0,0,0,9,9,0
202501HOU,HOU,LAR,1,2025,19,27,188,0,1,3,-37,43.2,32,0,23,0,0,0,0,0,0,0,70.37,151,0,0,6,10,0,5,0,0,0,0,0,0,0,10,31,31,0
202501LAR,LAR,HOU,1,2025,21,29,245,1,0,3,-21,62,-2,0,36,1,0,0,0,0,0,0,72.41,224,1,0,0,0,0,0,4,0,0,0,0,0,0,0,4,4,0
202501TB,TB,ATL,1,2025,17,32,167,3,0,1,-8,86.9,39,0,30,0,0,0,0,0,0,1,53.12,159,3,0,6,-5,0,0,0,0,0,0,0,-12,0,0,-11,6,-17
202501ATL,ATL,TB,1,2025,27,42,298,1,0,1,-9,83.7,21,1,50,1,0,0,0,0,0,0,64.29,289,2,0,0,0,0,0,4,0,0,0,0,0,0,0,4,4,0
202501PIT,PIT,NYJ,1,2025,22,30,244,4,0,4,-26,62.6,-1,0,31,0,0,0,0,0,0.5,0,73.33,218,4,0,0,-10,0,0,0,0,0,0,0,-6,0,0,-16,0,-16
202501NYJ,NYJ,PIT,1,2025,16,22,218,1,0,1,-6,79.4,48,2,33,0,0,0,0,0,0,0,72.73,212,3,0,0,-5,0,0,0,0,0,0,0,0,0,0,-5,0,-5
202501TEN,TEN,DEN,1,2025,12,28,112,0,0,6,-50,7.3,0,0,29,1,1,0,0,0,0,0,42.86,62,0,5,25,10,0,0,4,0,0,0,0,0,0,0,44,44,0
202501DEN,DEN,TEN,1,2025,25,40,176,1,2,1,-10,19.2,18,0,22,1,1,0,0,0,0,0,62.5,166,1,0,6,0,12,10,4,0,0,0,0,0,0,10,42,42,0
202501ARI,ARI,NO,1,2025,21,29,163,2,0,5,-33,50.9,38,0,45,0,0,0,0,0,0,0,72.41,130,2,0,12,0,0,0,0,0,0,0,0,0,0,0,12,12,0
202501NO,NO,ARI,1,2025,27,46,214,0,0,1,-6,49.7,29,0,21,0,0,0,0,0,0,0,58.7,208,0,0,0,10,0,0,0,0,0,0,0,0,0,10,20,20,0
202501NYG,NYG,WSH,1,2025,17,37,168,0,0,2,-11,25.5,44,0,25,1,0,0,0,0,0,0,45.95,157,0,5,6,10,0,0,4,0,0,0,0,0,0,0,25,25,0
202501WSH,WSH,NYG,1,2025,19,30,233,1,0,3,-21,54.9,68,0,34,0,0,0,0,0,0,0,63.33,212,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
202501BAL,BAL,BUF,1,2025,14,19,209,2,0,2,-15,94,70,1,39,0,0,0,0,0,0,0,73.68,194,3,0,6,-5,0,0,0,0,0,0,0,0,0,0,1,6,-5
202501BUF,BUF,BAL,1,2025,33,46,394,2,0,1,-5,78.7,30,2,51,0,0,0,0,0,0.5,0,71.74,389,4,0,-9,-10,0,0,0,0,0,0,0,-6,0,0,-25,0,-25
202501DET,DET,GB,1,2025,31,39,225,1,1,4,-25,52.8,-1,0,32,0,0,0,0,0,0,0,79.49,200,1,0,6,0,0,5,0,0,0,0,0,0,0,0,11,11,0
202501GB,GB,DET,1,2025,16,22,188,2,0,0,0,92.1,4,0,48,0,0,0,0,0,0,0,72.73,188,2,0,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0
202501SF,SF,SEA,1,2025,26,35,277,2,2,1,-12,80.3,17,0,45,0,0,0,0,0,1,0,74.29,265,2,0,0,0,0,10,0,0,0,0,0,-12,0,0,-2,10,-12
202501SEA,SEA,SF,1,2025,16,23,150,0,0,1,-4,56,14,0,40,1,1,0,0,0,0,0,69.57,146,0,0,12,10,0,0,4,0,0,0,0,0,0,0,26,26,0
202501MIN,MIN,CHI,1,2025,13,20,143,2,1,3,-9,52.6,25,1,28,0,0,1,0,0,0,0,65,134,3,0,12,-5,0,5,0,0,20,0,0,0,0,0,32,37,-5
202501CHI,CHI,MIN,1,2025,21,35,210,1,0,2,-12,63.8,58,1,31,0,0,0,0,0,0,0,60,198,2,0,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0
202501KC,KC,LAC,1,2025,24,39,258,1,0,2,-9,81.8,57,1,49,0,0,0,0,0,0,0,61.54,249,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
202501LAC,LAC,KC,1,2025,25,34,318,3,0,3,-14,88.9,32,0,33,0,0,0,0,0,0,0,73.53,304,3,0,-6,-5,0,0,0,0,0,0,0,0,0,0,-11,0,-11
202501DAL,DAL,PHI,1,2025,21,34,188,0,0,0,0,60.1,3,0,32,0,0,0,0,0,0,0,61.76,188,0,0,6,10,0,0,0,0,0,0,0,0,0,0,16,16,0
202501PHI,PHI,DAL,1,2025,19,23,152,0,0,1,-8,94,62,2,51,0,0,0,0,0,0,0,82.61,144,2,0,12,0,0,0,0,0,0,0,0,0,0,0,12,12,0`;

// Week 2 CSV data (from your file)
const week2CSV = `ScorelineID,TeamID,DefOp,WeekID,SeasonID,PComp,PAtt,PYds,PTds,Ints,Sack,SYds,Qbr,RYds,RTds,Long,Fumb,FumL,DefTD,Saf,Gefu,Gwd,Bnch,PComPct,NetPYds,TTds,ZPComp,ZPYds,ZTTds,ZTTos,ZInts,ZFumb,ZRYds,ZDefTD,ZSaf,ZGefu,ZGwd,ZBnch,ZOver25,ZFinal,POS,NEG
202502SF,SF,NO,2,2025,26,39,279,3,0,3,-12,66.9,6,0,42,2,1,0,0,0,0,0,66.67,267,3,0,0,-5,0,0,8,0,0,0,0,0,0,0,3,8,-5
202502NO,NO,SF,2,2025,25,34,207,3,0,3,-21,57.4,14,0,39,1,0,0,0,0,0,0,73.53,186,3,0,6,-5,0,0,4,0,0,0,0,0,0,0,5,10,-5
202502NYG,NYG,DAL,2,2025,30,41,450,3,1,3,-28,75.1,23,0,52,1,0,0,0,0,0,0,73.17,422,3,0,-12,-5,0,5,4,0,0,0,0,0,0,0,-8,9,-17
202502DAL,DAL,NYG,2,2025,38,52,361,2,1,3,-18,70.5,17,0,33,1,0,0,0,0,0.5,0,73.08,343,2,0,-6,0,0,5,4,0,0,0,0,-6,0,0,-3,9,-12
202502SEA,SEA,PIT,2,2025,22,33,295,2,2,2,-17,46.7,0,0,43,0,0,0,0,0,0,0,66.67,278,2,0,0,0,0,10,0,0,0,0,0,0,0,0,10,10,0
202502PIT,PIT,SEA,2,2025,20,35,215,1,2,3,-20,29.91,3,0,65,0,0,0,0,0,0,1,57.14,195,1,0,6,0,0,10,0,0,0,0,0,0,35,0,51,51,0
202502LAR,LAR,TEN,2,2025,23,33,298,2,1,1,-8,74.5,-6,0,40,1,0,0,0,0,0,0,69.7,290,2,0,0,0,0,5,4,0,0,0,0,0,0,0,9,9,0
202502TEN,TEN,LAR,2,2025,19,33,175,1,0,5,-32,35.9,8,0,26,1,1,0,0,0,0,0,57.58,143,1,0,12,0,0,0,4,0,0,0,0,0,0,0,16,16,0
202502BUF,BUF,NYJ,2,2025,15,27,180,0,0,1,-1,84.99,56,0,32,0,0,0,0,0,0,0,55.56,179,0,0,6,10,0,0,0,0,0,0,0,0,0,0,16,16,0
202502NYJ,NYJ,BUF,2,2025,10,22,83,1,0,4,-29,47.25,70,0,18,2,1,0,0,0,0,0,45.45,54,1,5,25,0,0,0,8,0,0,0,0,0,0,10,48,48,0
202502PHI,PHI,KC,2,2025,15,22,101,0,0,2,-7,42.6,15,1,28,1,0,0,0,0,0,0,68.18,94,1,0,25,0,0,0,4,0,0,0,0,0,0,0,29,29,0
202502KC,KC,PHI,2,2025,16,29,187,1,1,2,-14,79.2,66,1,49,0,0,0,0,0,0,0,55.17,173,2,0,6,0,0,5,0,0,0,0,0,0,0,0,11,11,0
202502ATL,ATL,MIN,2,2025,13,21,135,0,0,3,-27,27,-1,0,21,0,0,0,0,0,0,0,61.9,108,0,0,12,10,0,0,0,0,0,0,0,0,0,10,32,32,0
202502MIN,MIN,ATL,2,2025,11,21,158,0,2,6,-38,6.1,25,0,50,3,1,0,0,0,0,0,52.38,120,0,0,12,10,12,10,12,0,0,0,0,0,0,0,56,56,0
202502CHI,CHI,DET,2,2025,21,33,234,2,1,4,-29,39.7,34,0,37,1,0,0,0,0,0,1,63.64,205,2,0,0,0,0,5,4,0,0,0,0,0,35,0,44,44,0
202502DET,DET,CHI,2,2025,23,28,334,5,0,0,0,94.1,6,0,64,0,0,0,0,0,0,0,82.14,334,5,0,-6,-20,0,0,0,0,0,0,0,0,0,0,-26,0,-26
202502JAX,JAX,CIN,2,2025,24,42,271,3,2,1,-10,34.6,4,0,40,1,0,0,0,0,0,0,57.14,261,3,0,0,-5,0,10,4,0,0,0,0,0,0,0,9,14,-5
202502CIN,CIN,JAX,2,2025,28,45,317,3,3,3,-15,66.58,1,1,42,0,0,0,0,0,1,0,62.22,302,4,0,-6,-10,12,15,0,0,0,0,0,-12,0,0,-1,27,-28
202502DEN,DEN,IND,2,2025,22,30,206,3,1,0,0,72.2,20,0,42,0,0,0,0,0,0,0,73.33,206,3,0,0,-5,0,5,0,0,0,0,0,0,0,0,0,5,-5
202502IND,IND,DEN,2,2025,23,34,316,1,0,1,-10,78,2,1,44,0,0,0,0,0,0.5,0,67.65,306,2,0,-6,0,0,0,0,0,0,0,0,-6,0,0,-12,0,-12
202502CLE,CLE,BAL,2,2025,28,48,218,2,1,2,-11,34.47,8,0,26,1,1,1,0,0,0,1,58.33,207,2,0,0,0,0,5,4,0,20,0,0,0,35,0,64,64,0
202502BAL,BAL,CLE,2,2025,19,29,225,4,0,3,-28,70.4,13,0,41,0,0,0,0,0,0,0,65.52,197,4,0,6,-10,0,0,0,0,0,0,0,0,0,0,-4,6,-10
202502CAR,CAR,ARI,2,2025,35,55,328,3,1,3,-25,47.1,2,0,40,1,1,1,0,0,0,0,63.64,303,3,0,-6,-5,0,5,4,0,20,0,0,0,0,0,18,29,-11
202502ARI,ARI,CAR,2,2025,17,25,220,1,1,1,-9,68,32,0,31,0,0,0,0,0,0,0,68,211,1,0,0,0,0,5,0,0,0,0,0,0,0,0,5,5,0
202502NE,NE,MIA,2,2025,19,23,230,2,0,3,-19,77.5,31,1,55,0,0,0,0,0,0,0,82.61,211,3,0,0,-5,0,0,0,0,0,0,0,0,0,0,-5,0,-5
202502MIA,MIA,NE,2,2025,26,32,315,2,1,5,-18,42.8,0,0,47,0,0,0,0,0,0,0,81.25,297,2,0,0,0,0,5,0,0,0,0,0,0,0,0,5,5,0
202502WSH,WSH,GB,2,2025,24,42,200,2,0,4,-21,27.7,17,0,20,0,0,0,0,0,0,0,57.14,179,2,0,6,0,0,0,0,0,0,0,0,0,0,10,16,16,0
202502GB,GB,WSH,2,2025,19,31,292,2,0,2,-23,63.5,12,0,57,0,0,0,0,0,0,0,61.29,269,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
202502TB,TB,HOU,2,2025,25,38,215,2,0,4,-24,60.4,33,0,22,1,0,0,0,0,0,1,65.79,191,2,0,6,0,0,0,4,0,0,0,0,-12,0,10,8,20,-12
202502HOU,HOU,TB,2,2025,13,24,207,1,0,3,-25,19.5,27,0,37,0,0,0,0,0,0,0,54.17,182,1,0,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0
202502LAC,LAC,LV,2,2025,19,27,242,2,0,2,-6,75.8,31,0,60,2,1,0,0,0,0,0,70.37,236,2,0,0,0,0,0,8,0,0,0,0,0,0,0,8,8,0
202502LV,LV,LAC,2,2025,24,43,180,0,3,3,-30,19,20,0,25,0,0,0,0,0,0,0,55.81,150,0,0,12,10,12,15,0,0,0,0,0,0,0,0,49,49,0`;

// Week 3 CSV data
const week3CSV = `ScorelineID,TeamID,DefOp,WeekID,SeasonID,PComp,PAtt,PYds,PTds,Ints,Sack,SYds,Qbr,RYds,RTds,Long,Fumb,FumL,DefTD,Saf,Gefu,Gwd,Bnch,PComPct,NetPYds,TTds,ZPComp,ZPYds,ZTTds,ZTTos,ZInts,ZFumb,ZRYds,ZDefTD,ZSaf,ZGefu,ZGwd,ZBnch,ZOver25,ZFinal,POS,NEG
202503NO,NO,SEA,3,2025,28,41,218,1,1,2,-13,39.97,10,0,21,0,0,0,0,0,0,1,68.29,205,1,0,0,0,0,5,0,0,0,0,0,0,35,10,50,50,0
202503SEA,SEA,NO,3,2025,16,21,233,2,0,0,0,84.76,-1,0,45,0,0,0,0,0,0,0,76.19,233,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
202503IND,IND,TEN,3,2025,18,25,228,1,0,0,0,94.1,27,0,29,0,0,0,0,0,0,0,72,228,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
202503TEN,TEN,IND,3,2025,23,38,219,1,1,4,-23,34,12,0,27,0,0,1,0,0,0,0,60.53,196,1,0,6,0,0,5,0,0,20,0,0,0,0,0,31,31,0
202503LAR,LAR,PHI,3,2025,19,33,196,2,1,1,0,63.6,0,0,44,0,0,0,0,0,0,0,57.58,196,2,0,6,0,0,5,0,0,0,0,0,0,0,0,11,11,0
202503PHI,PHI,LAR,3,2025,21,32,226,3,0,4,-24,66.3,40,1,38,1,1,0,0,0,1,0,65.62,202,4,0,0,-10,0,0,4,0,0,0,0,-12,0,0,-18,4,-22
202503CIN,CIN,MIN,3,2025,19,27,140,1,2,4,-22,23.7,3,0,28,0,0,1,0,0,0,1,70.37,118,1,0,12,0,0,10,0,0,20,0,0,0,35,0,77,77,0
202503MIN,MIN,CIN,3,2025,16,24,202,2,0,3,-19,29.6,4,0,36,0,0,0,0,0,0,0,66.67,183,2,0,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0
202503ATL,ATL,CAR,3,2025,23,43,201,0,2,0,0,12.24,9,0,25,0,0,1,0,0,0,1,53.49,201,0,0,0,10,0,10,0,0,20,0,0,0,35,0,75,75,0
202503CAR,CAR,ATL,3,2025,16,24,121,0,0,1,-7,70.3,8,1,23,0,0,0,0,0,0,0,66.67,114,1,0,12,0,0,0,0,0,0,0,0,0,0,10,22,22,0
202503LV,LV,WSH,3,2025,19,29,289,3,0,5,-28,78.6,5,0,61,0,0,0,0,0,0,0,65.52,261,3,0,0,-5,0,0,0,0,0,0,0,0,0,0,-5,0,-5
202503WSH,WSH,LV,3,2025,15,21,207,1,0,1,-8,54.9,40,1,56,1,1,0,0,0,0,0,71.43,199,2,0,6,0,0,0,4,0,0,0,0,0,0,0,10,10,0
202503KC,KC,NYG,3,2025,22,37,224,1,0,2,-23,49.7,2,0,33,2,0,0,0,0,0,0,59.46,201,1,0,0,0,0,0,8,0,0,0,0,0,0,0,8,8,0
202503NYG,NYG,KC,3,2025,18,32,160,0,2,2,-9,6.5,27,0,26,0,0,0,0,0,0,0,56.25,151,0,0,6,10,0,10,0,0,0,0,0,0,0,0,26,26,0
202503NYJ,NYJ,TB,3,2025,26,36,197,2,1,4,-29,48.4,48,0,20,1,1,1,0,0,0,0,72.22,168,2,0,6,0,0,5,4,0,20,0,0,0,0,10,45,45,0
202503TB,TB,NYJ,3,2025,19,29,233,1,0,1,-8,63.1,44,0,30,1,0,0,0,0,0.5,0,65.52,225,1,0,0,0,0,0,4,0,0,0,0,-6,0,0,-2,4,-6
202503ARI,ARI,SF,3,2025,22,35,159,1,0,1,-5,54.7,37,0,32,0,0,0,0,0,0,0,62.86,154,1,0,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0
202503SF,SF,ARI,3,2025,27,41,284,1,1,1,-2,65.4,-1,0,34,0,0,0,0,0,0.5,0,65.85,282,1,0,0,0,0,5,0,0,0,0,0,-6,0,0,-1,5,-6
202503DAL,DAL,CHI,3,2025,34,45,292,1,3,2,-17,40.12,0,0,37,0,0,0,0,0,0,1,75.56,275,1,0,0,0,12,15,0,0,0,0,0,0,35,0,62,62,0
202503CHI,CHI,DAL,3,2025,19,28,298,4,0,0,0,86.7,12,0,65,0,0,0,0,0,0,0,67.86,298,4,0,0,-10,0,0,0,0,0,0,0,0,0,0,-10,0,-10
202503HOU,HOU,JAX,3,2025,25,38,204,1,2,2,-20,49.7,22,0,50,0,0,0,0,0,0,0,65.79,184,1,0,6,0,0,10,0,0,0,0,0,0,0,0,16,16,0
202503JAX,JAX,HOU,3,2025,20,40,222,0,1,2,-17,29.5,9,0,46,0,0,0,0,0,1,0,50,205,0,5,0,10,0,5,0,0,0,0,0,-12,0,0,8,20,-12
202503PIT,PIT,NE,3,2025,16,23,139,2,1,0,0,43.1,1,0,21,0,0,0,0,0,0,0,69.57,139,2,0,12,0,0,5,0,0,0,0,0,0,0,10,27,27,0
202503NE,NE,PIT,3,2025,28,37,268,2,1,5,-18,59.6,45,0,23,1,1,0,0,0,0,0,75.68,250,2,0,0,0,0,5,4,0,0,0,0,0,0,10,19,19,0
202503GB,GB,CLE,3,2025,18,25,183,1,1,5,-34,45,18,0,34,0,0,0,0,0,0,0,72,149,1,0,12,0,0,5,0,0,0,0,0,0,0,0,17,17,0
202503CLE,CLE,GB,3,2025,21,36,142,0,1,2,-17,40.6,0,0,17,0,0,0,0,0,0.5,0,58.33,125,0,0,12,10,0,5,0,0,0,0,0,-6,0,10,31,37,-6
202503DEN,DEN,LAC,3,2025,14,25,153,1,0,2,-6,38.6,33,0,52,0,0,0,0,0,0,0,56,147,1,0,12,0,0,0,0,0,0,0,0,0,0,0,12,12,0
202503LAC,LAC,DEN,3,2025,28,47,300,1,1,5,-30,44,6,0,37,0,0,0,0,0,0.5,0,59.57,270,1,0,0,0,0,5,0,0,0,0,0,-6,0,0,-1,5,-6
202503MIA,MIA,BUF,3,2025,22,34,146,2,1,0,0,62.7,10,0,19,1,0,0,0,0,0,0,64.71,146,2,0,12,0,0,5,4,0,0,0,0,0,0,10,31,31,0
202503BUF,BUF,MIA,3,2025,22,28,213,3,0,2,-10,62.5,25,0,30,1,0,0,0,0,0,0,78.57,203,3,0,0,-5,0,0,4,0,0,0,0,0,0,0,-1,4,-5
202503DET,DET,BAL,3,2025,20,28,202,1,0,0,0,72.6,6,0,24,1,0,0,0,0,0,0,71.43,202,1,0,0,0,0,0,4,0,0,0,0,0,0,10,14,14,0
202503BAL,BAL,DET,3,2025,21,27,288,3,0,7,-55,68.9,35,0,37,1,0,0,0,0,0,0,77.78,233,3,0,0,-5,0,0,4,0,0,0,0,0,0,0,-1,4,-5`;

// Map team abbreviations to full names
const teamNameMap: { [key: string]: string } = {
  'CAR': 'Carolina',
  'JAX': 'Jacksonville', 
  'CIN': 'Cincinnati',
  'CLE': 'Cleveland',
  'MIA': 'Miami',
  'IND': 'Indianapolis',
  'LV': 'Las Vegas',
  'NE': 'New England',
  'HOU': 'Houston',
  'LAR': 'LA Rams',
  'TB': 'Tampa Bay',
  'ATL': 'Atlanta',
  'PIT': 'Pittsburgh',
  'NYJ': 'NY Jets',
  'TEN': 'Tennessee',
  'DEN': 'Denver',
  'ARI': 'Arizona',
  'NO': 'New Orleans',
  'NYG': 'NY Giants',
  'WSH': 'Washington',
  'BAL': 'Baltimore',
  'BUF': 'Buffalo',
  'DET': 'Detroit',
  'GB': 'Green Bay',
  'SF': 'San Francisco',
  'SEA': 'Seattle',
  'MIN': 'Minnesota',
  'CHI': 'Chicago',
  'KC': 'Kansas City',
  'LAC': 'LA Chargers',
  'DAL': 'Dallas',
  'PHI': 'Philadelphia'
};

/**
 * Get CSV data for a specific week
 */
export function getWeeklyCSVData(week: number): string {
  switch (week) {
    case 1: return week1CSV;
    case 2: return week2CSV;
    case 3: return week3CSV;
    case 4: return week4CSV;
    case 5: return week5CSV;
    case 6: return week6CSV;
    case 7: return week7CSV;
    // Add more weeks as needed
    default: return '';
  }
}

/**
 * Get team performance for a specific team in a specific week
 */
export function getTeamPerformance(week: number, teamAbbr: string): QBPerformance | null {
  const csvData = getWeeklyCSVData(week);
  if (!csvData) return null;
  
  // Use the parseWeeklyCSV function to get all data
  const weeklyData = parseWeeklyCSV(csvData, week);
  
  // Find the team in the parsed data
  const teamPerformance = weeklyData.qbPerformances.find((qb: QBPerformance) => {
    // Convert team abbreviation to full name for comparison
    const fullName = teamNameMap[teamAbbr];
    return qb.team === fullName || qb.team === teamAbbr;
  });
  
  return teamPerformance || null;
}

/**
 * Calculate team score based on selected QBs for a specific week
 */
export function calculateTeamScoreForWeek(
  week: number,
  selectedQBs: string[]
): { totalScore: number; qbBreakdown: { [qb: string]: QBPerformance } } {
  const qbBreakdown: { [qb: string]: QBPerformance } = {};
  let totalScore = 0;
  
  selectedQBs.forEach(qb => {
    // Convert full team name to abbreviation for CSV lookup
    const teamAbbr = Object.keys(teamNameMap).find(key => teamNameMap[key] === qb);
    if (teamAbbr) {
      const performance = getTeamPerformance(week, teamAbbr);
      if (performance) {
        qbBreakdown[qb] = performance;
        totalScore += performance.finalScore;
      }
    }
  });
  
  return { totalScore, qbBreakdown };
}
